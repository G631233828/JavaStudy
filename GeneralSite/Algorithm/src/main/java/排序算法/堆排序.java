package 排序算法;

import java.util.Arrays;

public class 堆排序 {

	// 构建一个大顶堆
	public static void heap(int a[], int i, int len) {
		//2,1,3,4,0
		//2,3,4,1,0
		//0,3,2,1,4
		//1,2,0,3,4
		//0,1,2,3,4
		
		
		

		int temp, j;
		temp = a[i];
		for (j = 2 * i; j < len; j *= 2) {// 沿关键字交大的孩子节点向下筛选
			if (j < len && a[j] < a[j + 1])
				++j;// j为关键字中交大记录的下标。
			if (temp >= a[j]) {
				break;
			}
			a[i] = a[j];
			i = j;
			a[i] = temp;

		}

	}

	public static void heapSort(int[] a) {
		
		int i;
		for (i = a.length / 2 - 1; i >= 0; i--) {
			// 创建一大顶堆
			heap(a, i, a.length - 1);
		}
		for (i = a.length - 1; i >= 0; i--) {
			// 将堆顶记录和当前未经裴谞子序列的最后一个记录交换
			int temp = a[0];
			a[0] = a[i];
			a[i] = temp;
			heap(a, 0, i - 1);
		}
	}

	public static void main(String[] args) {
		int a[] = { 1, 4, 5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88, 99, 111, 222, 333,
				444, 555, 666, 777, 888, 999, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 1, 4, 5, 3, 121, 343, 64,
				323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88, 99, 111, 222, 333, 444, 555, 666, 777, 888, 999,
				1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 1, 4, 5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34, 2,
				66, 77, 55, 66, 77, 88, 99, 111, 222, 333, 444, 555, 666, 777, 888, 999, 1111, 2222, 3333, 4444, 5555,
				6666, 7777, 8888, 1, 4, 5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88, 99, 111,
				222, 333, 444, 555, 666, 777, 888, 999, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 1, 4, 5, 3, 121,
				343, 64, 323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88, 99, 111, 222, 333, 444, 555, 666, 777, 888,
				999, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 1, 4, 5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34,
				2, 66, 77, 55, 66, 77, 88, 99, 111, 222, 333, 444, 555, 666, 777, 888, 999, 1111, 2222, 3333, 4444,
				5555, 6666, 7777, 8888, 1, 4, 5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88,
				99, 111, 222, 333, 444, 555, 666, 777, 888, 999, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 1, 4,
				5, 3, 121, 343, 64, 323, 33, 55, 66, 88, 34, 2, 66, 77, 55, 66, 77, 88, 99, 111, 222, 333, 444, 555,
				666, 777, 888, 999, 1111, 2222, 3333, 4444, 5555, 6666, 7777, 8888, 9999 };
		
	//	int a[] = {2,1,3,4,0};
		heapSort(a);
		System.out.println(Arrays.toString(a));
	}

}
